<h1>Edit {{estate.title}}</h1>

<div class="edit-form">
  <form action="/realty/edit" method="POST">

    <div class="row">
      <div class="input-field col s12">
        <select name="type">
          {{#ifeq estate.type 'rentals'}}
          <option value="rentals" selected>Rentals</option>
          {{else}}
          <option value="rentals">Rentals</option>
          {{/ifeq}}

          {{#ifeq estate.type 'sales'}}
          <option value="sales" selected>Sales</option>
          {{else}}
          <option value="sales">Sales</option>
          {{/ifeq}}


        </select>
        <label>Choose type of an estate for an advertising</label>
      </div>
    </div>

    <div class="row">
      <div class="input-field col s12 m6">
        <input id="title" name="title" type="text" class="validate"
          value="{{estate.title}}" required>
        <label for="title">Title</label>
        <span class="helper-text" data-error="Add short description"
          data-success="right"></span>
      </div>

      <div class="input-field col s12 m6">
        <input id="address" name="address" type="text" class="validate"
          value="{{estate.address}}" required>
        <label for="address">Address</label>
        <span class="helper-text" data-error="Add address"
          data-success="right"></span>
      </div>
    </div>

    <div class="row">
      <div class="input-field col s3">
        <input id="floor" name="floor" type="number" class="validate"
          value="{{estate.floor}}" required min='1'>
        <label for="floor">Floor</label>
        <span class="helper-text" data-error="Add floor"
          data-success="right"></span>
      </div>

      <div class="input-field col s3">
        <input id="rooms" name="rooms" type="number" class="validate"
          value="{{estate.rooms}}" required min='1'>
        <label for="rooms">Rooms</label>
        <span class="helper-text" data-error="Add number of rooms"
          data-success="right"></span>
      </div>

      <div class="input-field col s3">
        <input id="square" name="square" type="number" class="validate"
          value="{{estate.square}}" required min='1'>
        <label for="square">Square</label>
        <span class="helper-text" data-error="Add square"
          data-success="right"></span>
      </div>

      <div class="input-field col s3">
        <input id="price" name="price" type="number" class="validate"
          value="{{estate.price}}" required min='1'>
        <label for="price">Price</label>
        <span class="helper-text" data-error="Add price"
          data-success="right"></span>
      </div>
    </div>

    {{!-- materialize-textarea - When scaling the browser window down from desktop
  to mobile the textarea overflows on the right making lots of white space.  --}}
    <div class="row">
      <div class="col s12">
        <div class="input-field">
          <textarea id="description" class="description"></textarea>
          <label for="description">Description</label>
        </div>
      </div>
    </div>

    <input type="hidden" name='id' value="{{estate._id}}">
    {{#if errors}}
    <input type="hidden" class="toast" value="{{errors}}">
    {{/if}}

    <button type="submit" class="btn btn-primary">Edit</button>
  </form>
</div>

<div class="remove-form">
  <form action="/realty/remove" method="POST">
    <input type="hidden" name='id' value="{{estate._id}}">
    <div class="row">
      <button type="submit" class="btn red">Delete</button>
    </div>
  </form>
</div>